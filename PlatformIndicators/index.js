(function(R,l,s,I,o,d,p,u){"use strict";const{View:S,Text:b,Pressable:T}=p.ReactNative;function w(c){const{platform:i,color:e}=c,t={desktop:"M4 2.5c-1.103 0-2 .897-2 2v11c0 1.104.897 2 2 2h7v2H7v2h10v-2h-4v-2h7c1.103 0 2-.896 2-2v-11c0-1.103-.897-2-2-2H4Zm16 2v9H4v-9h16Z",web:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2Zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93Zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39Z",mobile:"M15.5 1h-8A2.5 2.5 0 0 0 5 3.5v17A2.5 2.5 0 0 0 7.5 23h8a2.5 2.5 0 0 0 2.5-2.5v-17A2.5 2.5 0 0 0 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z"},n=s.findByName("Svg",!1).default,r=s.findByName("Svg",!1).Path;return React.createElement(S,null,React.createElement(n,{height:"20",width:"20",viewBox:"0 0 24 24",fill:e},React.createElement(r,{d:t[i]})))}const E={online:p.chroma(u.rawColors.GREEN_360).hex(),dnd:p.chroma(u.rawColors.RED_400).hex(),idle:p.chroma(u.rawColors.YELLOW_300).hex(),offline:p.chroma(u.rawColors.PRIMARY_400).hex()};function x(c){return E[c]}const D=s.findByStoreName("PresenceStore");function h(c){d.useReducer(function(t){return~t},0);const i=c.userId,e=D.getState()?.clientStatuses[i];return d.createElement(d.Fragment,null,Object.keys(e??{}).map(function(t){return d.createElement(w,{platform:t,color:x(e[t])})}))}const{Text:k,View:f}=I.General;let y=[];var M={onLoad:function(){const c=s.findByDisplayName("Pressable",!1);y.push(l.patcher.before("render",c.default.type,function(i){if(!i||!i[0])return;const[e]=i;if(e){if(e.accessibilityRole=="button"&&e.children&&e.children.length>=2&&e.children[0]?.props?.user){const t=e.children[0]?.props?.user?.id;e.children.find(function(r){return r.key=="StatusIcons"})||e.children.push(React.createElement(f,{key:"StatusIcons",style:{display:"flex",flexDirection:"row"}}));const n=e.children.find(function(r){return r.key=="StatusIcons"});n.props.children=React.createElement(h,{userId:t})}if(e.accessibilityRole=="header"&&o.findInReactTree(e.children,function(t){return t.props?.title&&t.props?.icon})){const t=o.findInReactTree(e.children,function(n){return n.props?.title&&n.props?.icon});if(t.props?.titleSuffix){o.findInReactTree(t.props.titleSuffix,function(r){return r.key=="DMStatusIndicators"})||(t.props.titleSuffix=[t.props.titleSuffix,React.createElement(f,{key:"DMStatusIndicators",style:{flexDirection:"row"}})]);const n=o.findInReactTree(t.props.titleSuffix,function(r){return r.props?.userId}).props?.userId;if(n){const r=o.findInReactTree(t.props.titleSuffix,function(a){return a.key=="DMStatusIndicators"});r&&(r.props.children=React.createElement(h,{userId:n}))}}}}})),s.findByStoreName("PresenceStore"),y.push(l.patcher.after("type",s.findByProps("DirectMessageRow").DirectMessageRow,function(i,e){const t=e.props?.user?.id;l.patcher.after("type",e,function(n,r){const a=o.findInReactTree(r,function(m){return m.props?.children[0]?.type?.displayName=="View"});a.props.children[0].props.children[0]=React.createElement(f,{style:{flexDirection:"row"}},a.props.children[0].props.children[0],React.createElement(h,{userId:t}))})})),y.push(l.patcher.after("default",s.findByName("ChannelHeader",!1),function(i,e){e.type?.type?.name=="PrivateChannelHeader"&&l.patcher.after("type",e.type,function(t,n){if(!n.props?.children?.props?.children)return;const r=o.findInReactTree(n,function(v){return v.props?.user?.id})?.props?.user?.id;if(!r)return;const a=n.props.children;a.props.children.key!="DMTabsV2Header"&&(a.props.children=React.createElement(f,{key:"DMTabsV2Header",style:{flexDirection:"row"}},a.props.children,React.createElement(f,{key:"DMTabsV2HeaderIcons",style:{flexDirection:"row"}})));const m=o.findInReactTree(n,function(v){return v.key=="DMTabsV2HeaderIcons"});m.props.children=React.createElement(h,{userId:r})})}))},onUnload:function(){y.forEach(function(c){return c()})}};return R.default=M,Object.defineProperty(R,"__esModule",{value:!0}),R})({},vendetta,vendetta.metro,vendetta.ui.components,vendetta.utils,window.React,vendetta.metro.common,vendetta.ui);
